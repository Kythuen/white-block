import{K as g}from"./keys.DacL9R4k.js";import{u as k,a as w}from"./style.DVjA9Ywn.js";import{u as F}from"./node.BJaJuXFC.js";import{G as N}from"./event.cVHD4hdA.js";import{S as R}from"./api.DwkIGh4A.js";import S from"./api.DDvRzpOe.js";import{d as D,a3 as V,p as z,L as P,h as m,v as x,c as l,o as n,e as p,j as I,N as c,t as f,G as $,k as d,n as j}from"./framework.CDmdpyHB.js";const B={...R,...S},E={w:"full",relative:""},G={key:0,absolute:"",top:"100%",left:"0","un-text":"3 $wb-form-item-color-tip",class:"wb-form-item-tip"},q=D({name:"WbFormItem",__name:"form-item",props:V({name:{},label:{},labelWidth:{},rules:{},onClick:{type:Function},default:{type:[String,Object,Function]},size:{}},B),emits:["click"],setup(v){const r=v,y=k({valueProps:[],nameProps:[]}),b=w(),_=F(),h=()=>_("default"),u=z(),{labelWidthForm:s,labelWidth:t,formValidate:o}=P(g),C=m(()=>r.labelWidth?r.labelWidth:s||((t==null?void 0:t.value)===0?null:t==null?void 0:t.value)),a=m(()=>{const e={type:"",tip:""};return!o.value.errors.length||o.value.errors[0].prop!==r.name||(e.type=o.value.errors[0].type,e.tip=o.value.errors[0].message),e});function i(){const{width:e}=u.value.getBoundingClientRect();t.value=Math.max(t.value,e)}return x(()=>{if(s||t!=null&&t.value)return;i();const e=N.get("body");e==null||e.on("resize",i)}),(e,M)=>(n(),l("div",{w:"full",m:"b-8",flex:"",items:"center",class:j(`${d(y)} wb-form-item--${a.value.type}`),style:c(d(b))},[e.label?(n(),l("div",{key:0,ref_key:"FormItemRef",ref:u,p:"r-4",style:c({width:`${C.value}px`})},f(e.label),5)):p("",!0),I("div",E,[$(h),a.value.tip?(n(),l("div",G,f(a.value.tip),1)):p("",!0)])],6))}});export{q as default};
