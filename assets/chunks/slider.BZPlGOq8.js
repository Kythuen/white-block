import{d as X,t as $}from"./common.CZky7v_H.js";import{o as f,a as m}from"./dom.Ze_sGonF.js";import{u as x}from"./model.B6iaKfeX.js";import{R as z,D as M,S as N}from"./api.DwkIGh4A.js";import E from"./api.FmFgRqLi.js";import{P as O}from"./index.DA_WeHHL.js";import{d as U,a3 as j,p as a,a4 as q,v as F,q as G,$ as K,c as L,o as W,j as u,N as R,G as A,w as H,t as I,k as S,K as J}from"./framework.CDmdpyHB.js";import"./theme.CGtRrSKC.js";import"./style.DVjA9Ywn.js";import"./popup.vue_vue_type_script_setup_true_lang._TIyf6r9.js";import"./node.BJaJuXFC.js";import"./event.cVHD4hdA.js";import"./api.BKqPkQKG.js";const Q={...N,...M,...z,...E},T={absolute:"",inset:"0",w:"full",h:"full",p:"x-2",rounded:"full"},de=U({name:"WbSlider",__name:"slider",props:j({max:{},min:{},popupProps:{},size:{},disabled:{type:Boolean},readonly:{type:Boolean},value:{},modelValue:{},defaultValue:{},onChange:{type:Function}},Q),emits:["change","update:value","update:modelValue"],setup(V){const _=V,d=a(),v=a(),D=a(),n=a();let l=null,s=!1,w=0,p=0,o=0;const r=a(0),[i,h]=x({props:q(_)});function c(e){return e<0?0:e>l.width?100:Math.round(e/l.width*100)}function y(e){var t;e.stopPropagation(),s=!0,w=e.clientX,o=e.clientX-l.left,p=o,r.value=c(o),(t=n.value)==null||t.updatePopup(),h(r.value),f(document.body,"mousemove",C)}function k(e){var P;if(!s)return;s=!0;let t=e.clientX-w+p;t<0?t=0:t>l.width&&(t=l.width),o=t,r.value=c(o),(P=n.value)==null||P.updatePopup(),h(r.value)}const C=$(k,18);function B(){s=!1,p=o,m(document.body,"mousemove",C)}function b(){l=v.value.getBoundingClientRect()}const g=X(b,300);return F(()=>{b(),G(()=>i.value,()=>{var e;i.value&&(o=l.width*i.value/100,r.value=c(o),(e=n.value)==null||e.updatePopup())},{immediate:!0}),f(d.value,"mousedown",y),f(document.body,"mouseup",B),f(window,"resize",g)}),K(()=>{m(d.value,"mousedown",y),m(window,"resize",g)}),(e,t)=>(W(),L("div",{ref_key:"ColorHueRef",ref:d,relative:"",w:"full",h:"1",bg:"$wb-color-layer",rounded:"full",select:"none"},[u("div",T,[u("div",{absolute:"",top:"0",left:"0",h:"full",bg:"$wb-color-primary",rounded:"full",style:R({width:`${r.value}%`})},null,4),u("div",{ref_key:"ColorHueContentRef",ref:v,w:"full",h:"full",flex:"1",select:"none",cursor:"pointer"},null,512)]),u("div",{ref_key:"ColorHueHandlerRef",ref:D,absolute:"",top:"50%",left:"0",w:"4",h:"4",bg:"$wb-color-primary",rounded:"full",shadow:"sm black",cursor:"pointer",select:"none",transform:"translate-x--50% translate-y--50%",style:R({left:`${r.value}%`})},[A(S(O),J({ref_key:"SliderValuePopupRef",ref:n,trigger:"hover",placement:"top"},e.popupProps,{animate:!1}),{content:H(()=>[u("div",null,I(S(i)),1)]),default:H(()=>[t[0]||(t[0]=u("div",{w:"4",h:"4",rounded:"full",ring:"2 inset $wb-color-foreground"},null,-1))]),_:1},16)],4)],512))}});export{de as default};
